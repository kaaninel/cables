# GroupBy Class

## Purpose

The `GroupBy` class is used to group elements of a stream based on a key generated by a provided function. It maintains a map of keys to lists of values, allowing you to easily group and access elements.

## Methods and Properties

### Properties

- `builder`: A function that takes an element of type `V` and returns a stream of keys of type `K`.
- `inputStream`: The input stream of elements to be grouped.
- `outputStream`: The output stream of grouped elements.
- `inputCount`: The number of elements received by the input stream.
- `value`: The current state of the grouped elements as a map of keys to lists of values.

### Methods

- `initGroupBy()`: Initializes the grouping process by mapping the input stream to the builder function and adding the resulting streams to the merger.
- `addStream(Stream<V> stream)`: Adds a stream of elements to be grouped.
- `dispose()`: Disposes of the resources used by the `GroupBy` instance.

## Usage Examples

### Example 1: Basic GroupBy Usage

```dart
import 'package:kablo/kablo.dart';

void main() {
  final groupBy = GroupBy<int, String>(
    builder: (value) => Stream.value(value.length),
  );

  groupBy.listen((grouped) {
    print('Grouped: $grouped');
  });

  groupBy.add('apple');
  groupBy.add('banana');
  groupBy.add('cherry');
}
```

### Example 2: GroupBy with Custom Key Function

```dart
import 'package:kablo/kablo.dart';

void main() {
  final groupBy = GroupBy<String, String>(
    builder: (value) => Stream.value(value[0]),
  );

  groupBy.listen((grouped) {
    print('Grouped: $grouped');
  });

  groupBy.add('apple');
  groupBy.add('banana');
  groupBy.add('cherry');
}
```
